







# 58 同城

## 01

公司正在进行优秀项目组评比的初选工作，评委会已经根据K个项目组提交的材料完成打分，各项目组分数为S1,S2,S3...Sk。

评委会希望设定一个初级晋级分数线x，使得所有得分大于x的项目组晋级，其他淘汰，同时，希望晋级和淘汰的项目组数量都在[m,n]区间。显然x可能不存在，也可能存在多个x。若不存任则输出-1，若存在多个，则输出满足条件的所有分数线的最小值。



## 02

给定一个从0开始的数组nums 和一个非负整数k。在一次操作中，你可以做以下操作：选择一个之前未选择过的下标i，范围为 [0,nums.length - 1]。将 nums[i] 替换为范围 [nums[i]-k, nums[i]+k]内的任意整数（包含两端）。在应用任意次数的操作后，返回数组nums的最大可能分数。数组分数是数组中最多的重复元素个数。注意，你只能对每个下标应用一次操作。



## 03

例如，一个序列可抽象为 “AABCCD”，识别横式为“CCD”，由于"CCD”是序“AABCCD” 的子序列，则表示模式匹配，
即可对黑产账号进行处置。
现在，给你一些序列和识别模式，请你找出该序列有多少个这样的子序列。如果子序列不存在则返回0。

```sh
输入
"ABC","A"
输出
1
```



# 猿辅导

## 01



—位特别有责任心的老师，为了给学生带来高质量的课堂，翻阅了非常多的书籍，最后终于挑出了最有价值的几类书，
并写了一个类目录，每个类用一个小写英文字母代表，比如m代表math.
老师振臂高呼太棒啦，却一不小心把所有书籍散落在了地上，你能帮帮老师统计出每个类下有多少书籍吗？
举例，老师统计的目录为[a,b,m]。散落在地上的书籍为a,a,m,m,b,d,d,x,x。则你应该统计的结果：a 2,b 1,m 2。

[a,m,b]
a,a,m,m,b,d,d,x,x

## 02

教室中间有一条走廊，出口如图，在走廊两旁有几排座位，同学们随意坐在不同的座位上，假设每个单位时间 学生们可以移动距离为1，目同一时间同一个位置只能有一个同学。所有同学的下课出教室路径都是从座位先移动到走廊，然后走到门口即可。
假设走廊是y轴，出口是(0,0)。
输入描述：
输入n代表学生数。后面n行输入，每行2个数字，表示学生坐标x y
输出描述：
输出最短时间t
给我一个Java ACM解法



如果输入为
3
3 4
-3 4
2 3

正确输出为8





## 03

有一个树形的棋盘，棋盘上有n个结点，由n-1条边连接起来，每个结点摆放有黑色或者白色的棋子。
玩家可以选择棋盘上任意两个不同的结点x,y，如果从x出发到达y的最短路径上任意两个相邻的结点都有不同的颜色，
那么玩家就能够将路径上的棋子全部消除掉（包括x，y)。消除掉的节点越多，玩家获得的奖品越丰厚。
为了能消除更多的棋子，允许玩家最多能改变k个棋子的颜色。现在玩家只有一次消除棋子的机会，请问最多能消除掉多少个棋子。

输入描述：
第一行输入两个整数n，k
第二行输入n个整数，其中第i个整数代表编号为i的结点上棋子的颜色（0代表白色 1代表黑色），结点编号从1到n
接下来n-1行，每行2个整数x,y表示结点x,y相连（无向边）,其中1<=x,y<=n

输出描述：
输出一个整数代表最多能消除的棋子数
给我一个Java ACM解法

3 1
0 0 0
1 2
3 

3

4 0
1 1 0 0
2 3
2 4
1 2

3



# 信也 0918

60分钟、20单选 5多选 1问答 2编程

## T1

https://blog.csdn.net/m0_58761900/article/details/126947774





## T2

有一个神奇的背包，总的承重是M，用这个背包可以装下一些物品，这些物品的总重量必须是M。Bob现在有n个想要得到的物品，每个物品的重量分别是a1，a2．．．．．．an，Bob可以从这些物品中选择一些，如果选出的物品的总重量是M，那么利用这个神奇的背包，Bob就可以得到这些物品。现在的问题是，Bob有多少种不同的选择物品的方式。


输入描述：
第一行M表示背包总的承重
第二行正整数n表示不同的物品的数量
接下来n行，每行有一个1到M之间的整数，分别给出a1，a2．．．．．．an的值

ACM java给我一个解法

```sh
40
3
20
20
20
```





```java
import java.util.Scanner;

public class A0918_02 {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        int M = scanner.nextInt();
        int n = scanner.nextInt();
        int[] a = new int[n + 1];
        for (int i = 1; i <= n; i++) {
            a[i] = scanner.nextInt();
        }

        int[][] dp = new int[n + 1][M + 1];
        dp[0][0] = 1;
        for (int i = 1; i <= n; i++) {
            for (int j = 0; j <= M; j++) {
                dp[i][j] = dp[i - 1][j];
                if (j >= a[i]) {
                    dp[i][j] += dp[i - 1][j - a[i]];
                }
            }
        }

        System.out.println(dp[n][M]);
    }
}
```





# 掌阅 0918

1.5h、20选择30分、2简答20分、3编程40分

## 简答20分

什么是数据库事务，简述事务ACID特性的含义

什么是死锁，如何避免和解决死锁问题

## T1 长度最小的子数组

leetcode 原题

## T2 背包问题

小阅（掌阅吉祥物）在掌阅应用上有一些阅饼，他可以使用这些阅饼兑换一些书籍。
他想兑换很多，且每本书只需要兑换一次，但由于阅饼有限不能兑换到所有书，因此他将想兑换的每本书设置了1个价值，代表读完该书带来的收益值。
他想请你帮忙计算一下，所总换的书籍价值之和最大是多少

输入描述：
第一行输入s和n，代表有s个阅饼和n本书，s的范围是[1，10000］，n的范围是［1，500］。
接下来n行的每一行有两个数c，v，代表该书需要的阅饼数和价值，c和v的范围是［1，10000］

输出描述：输出兑换书籍的最大值

输入样例：
10 2
7 12 
6 14

输出样例：
14

## T3 智能机器人

小阅（掌阅吉祥物）正在进行一项有趣的测试，以评估机器人在解决迷宫问题上的智能程度。
因此他将机器人放在一个n＊m的迷宫中，看机器人最少需要走多少步到达目的地。

输入描述：
输入包含两行，第一行代表n和m，n和m的范围是［2，2000］，接下来n行，每行包含m个字符，代表迷宫的方格，
包含四种字符：'s'代表机器人出发点，'e'代表机器人终点，'.'代表可通过，'#'代表禁止通过。

输出福述：
输出最短需要时间，如果不能到达则输出—1。

输入示例如下
3 3
.s.
#..
e..

ACM 模式Java给我个解法









# 顺丰 0920



## T1



小红拿到了一个字符串s。她可以进行任意次以下操作：
选择字符串中的一个字母ch1和任意一个字母ch2（ch2可以不在字符串中出现），将字符串s中的所有
ch1变成ch2。
小红想知道，自己能否通过一些操作将字符串s变成t?

输入描述
第一行输入一个正整数q，代表查询次数。
然后每2行代表一次查询：第一行输入一个字符串s。第二行输入一个字符串t。1≤q≤10
保证s和t的长度相同，且均由小写字母组成。长度不超过10000

示例输入
3
ab
ba
abc
aaa
aaaa
abcd

示例输出
Yes
Yes
No

ACM 模式Java给我个解法





## T2

野猪骑士最近在一条路上锻炼，整条路可以被分作n块地块，每个地块有自己的高度hi，
i属于集合｛1，2，3，．．．，n｝．野猪骑士在地块i时，会跳向下标比i大且高度比hi严格大的地块的集合
中高度最小的地块。

野猪骑士希望知道自己在每个地块上的下一跳的目的地的高度，如果下一跳不存在的话，则记为—1。
但这对野猪骑士来说太难了，他希望你来帮助他。

更形式化地说，给定一个数列h，求一个数列d，其中如果｛hj|j＞i＆hj＞hi｝≠Ø，则
di：＝min｛hj｜j＞i＆hj＞hi｝，否则di：＝-1 （其中：＝是赋值符号）。

输入描述:
第一行包括一个正整数n，第二行包含n个正整数h1,h2,....,hn.

输出描述：
一行，包括n个正整数d1,d2,...dn

ACM 模式Java给我个解法

输入示例：
4
4 1 2 3

输出：
-1 2 3 -1







# 携程 0921



游游拿到了一个排列a。她希望你构造一个长度相等的排列b，满足ai≠bi且b的字典序尽可能小。你能帮帮她吗？
所谓排列，即长度为n的数组，其中1到n每个正整数都恰好出现了1次。



输入描述
第一行输入一个正整数n，代表排列a的长度。
第二行输入n个正整数ai，代表游游拿到的排列。

输出描述
n个正整数bi，代表构造的排列。


示例输入
3
1 2 3
示例输出
2 3 1

ACM 模式Java给我个解法





游游拿到了一个n行m列的字母矩阵，矩阵中所有字符都是小写字母。
游游想知道，有多少个子矩阵满足，每个字母最多出现一次？

输入描述
第一行输入两个正整数n和m，代表矩阵的大小。

输出描述
每种字母只出现一次的子矩阵的数量

输入示例
2 3
aad
abc
输出示例
13

ACM 模式Java给我个解法







游游拿到了一个正整数，她准备恰好修改其中k位，使得该正整数变成75的倍数。
你能帮游游求出有多少种修改方案吗？
修改后，仍是正整数，且不允许存在前导零，答案请对10的9次方再加7取模。

输入描述
第一行输入一个正整数n。

输出描述
修改的方案数，对10的9次方再加7取模。

示例输入
355
2
对应输出
9

ACM 模式Java给我个解法





# 美团 0923

小美有一个长度为n的数组a。
如果一个序列b满足对于任意的i≥2，都有bi＝b(i-2)，则这是一个好序列。
小美想知道数组a的子序列中，最长的好序列的长度是多少。

子序列是指在一个序列中去掉一些元素而不改变剩余元素的相对位置所得到的序列。也就是说，如果
一个序列S可以通过去掉其中的一些元素得到另一个序列T，则称T是S的子序列。

输入描述
第一行一个整数n，表示数组a的长度。第二行n个整数，表示数组a的元素。

输出描述 输出一个整数
表示最长的好序列的长度

ACM 模式Java给我个解法


4
1 2 1 2




数列生成规则是：首先是1，然后是2到1，然后是 3 到 1，…………以此类推，每次从k到 1 加入数列然后k自增 1。
如：1,2,1,3,2,1,4,3,2,1,5,4,3,2,1,..
那么数列的前n项和等于多少。你能帮帮她吗？

输入描述
输入一个正整数n

输出描述
一个整数，代表前n项的和。
比如输入4，那么就是数列的前四项，应该输出7，即1,2,1,3的和
由于答案过大，请对10的9次方 + 7取模

ACM 模式Java给我个解法






小美拿到了一个钟表，上面显示的时间格式是＂xx：xx＂，其中，：前面表示小时，后面表示分钟。
时间为24小时制，从00：00到23：59。

现在给定一个初始的时间，以及给定小美对钟表修改的时间量，求最终钟表显示的时间。
小美每次的修改用＂＋x＂或者＂—x＂表示，分别代表时间往后调x分钟、时间往前调x分钟。

输入描述：
第一行输入一个长度为5的字符串，表示初始时间。第二行输入一个正整数n，代表小美的操作次数。
接下来的n行，每行首先输入一个字符ch，代表调整的策略，然后输入一个空格和正整数x，代表调整的分钟数。

输出描述：
一个长度为5的字符串，代表最终时间

ACM 模式Java给我个解法


输入
00.00
2

2

5
输出
00:57






小美这学期一共有n场考试，成绩分别为a1，a2，···，an。
小美想知道从第二场考试到最后一场考试，有多少场考试的成绩低于之前所有考试的最低分，或者高于之前所有考试的最高分。

输入描述:
第一行一个整数n，表示考试场数。
一行n个整数a1，a2，···，an，表示每场考试的成绩。

输出描述：
一行一个整数，表示答案。

ACM 模式Java给我个解法



# 网易

小红有一个长度为n的数组，数组下标为0到n—1，每次可以交换下标为i和（i＋2）％n的数，
请问小红能否通过有限次交换使得数组变成一个单调不减的数组。

输入描述
第一行一个整数t，表示数据组数。
接下来t组数据，每组数据第一行一个整数n，表示数组长度。
每组数据第二行n个整数ai，表示数组的值。1≤t≤10

输出描述 
对于每组数据，如果可以通过有限次交换使得数组变成一个单调不减的数组输出YES，否则输出NO

ACM java给我个解法


2
4
1 4 3 2
4
4 3 2 1
NO








小红拿到了一棵树，她有q次询问，每次会选出一个点集，小红希望你使用尽可能少的简单路径覆盖点
集中的所有节点。你能帮帮她吗？

输入描述
第一行输入两个正整数n和q，代表树的节点数量和小红的询问次数。
接下来的n—1行，每行输入两个正整数u和v，代表节点u和节点v有一条边连接。
接下来的2＊q行，每两行代表一次询问。
每次询问的第一行为一个正整数m，代表点集的大小。第二行为m个正整数ai，代表点集中的节点编号。

输出描述
输出q行，每行输出一个正整数，代表每次询问覆盖点集中所有点的最少路径数量。

示例1
输入
4 2
1 2
1 3
1 4
3
1 2 3
3
2 3 4

输出
1
2 


ACM java给我个解法







1．【算法】编程题：在n个物品中挑选若干物品装入背包，最多能装多满？假设背包的大小为m，每个物品的大小为Ai（i为n个物品的顺序下标，每个物品只能选择一次且物品大小均为正整数）











# 小米







# 360

## T1

某公司有n名员工，第i名员工具有的能力可以用一个正整数ai描述，称为员工的能力值。
现在，公司有一个项目需要交给恰好［n／2]名员工负责，为了保证项目能顺利进行，要求负责该项目的所有员工能力值之和大于等于x。
公司希望你可以帮忙求出，有多少种不同的派遣员工来负责这个项目的方案。
上文中，［x]表示大于等于x的最小整数，例如［4］＝4，［4.2]＝5，认为两个方案不同，当且仅当存在一名员工在一种方案中负责该项目，而在另一种方案中不负责。

输入描述
输入包含多组数据，输入第一行包含一个整数T，表示数据组数。
接下来2T行，每两行描述了一组数据。
每组数据第一行包含两个正整数n（1≤n≤16）和x分别表示公司的员工总数和项目对负责员工能力值之和的要求。
每组数据第二行包含n个整数，第i个整数表示第i名员工的能力值ai。

输出描述
输出包含T行，对于每组数据输出一行一个整数，表示可行的派遣方案数。

ACM 模式Java给我个解法







## T2

https://blog.csdn.net/qq_38632594/article/details/126822747





```
6
16=1+2*3
7*8*9=54
1+1=1+22
4*6=22+2
15+7=1+2
11+1=1+5
```













# 面试整理

1. 你怎么知道产生了慢查询的情况？索引应该怎么加？

- 慢查询
  - 分析和优化查询语句。避免不必要的连接和子查询。
  - 通过慢查询日志定位。（默认不开启）
  - 用 Explain 查看 SQL 的执行计划（模拟优化器执行查询语句，帮助我们理解查询是如何执行的）
- 加索引
  - 考虑选择合适的列作为索引：选择经常用于筛选、连接或排序的列作为索引。唯一性较高的列（如主键）通常也适合用作索引。
  - 考虑联合索引：如果多个列经常一起出现在查询条件中，可以考虑创建联合索引，以提高查询性能
  - 避免过多的索引：权衡选择合适的索引数量。



2. 既然都是基于内存的，那么es和redis有什么区别

- es以JSON文档形式存储和索引数据。redis以键值对的形式存储数据，并支持丰富的数据类型，如字符串、哈希表、有序集合等。
- 强大的全文搜索和复杂的数据分析功能，ES是一个不错的选择。快速的读写操作和缓存功能，Redis更适合。



3. 数据库本身也有自己的缓存 为什么还要用radis来缓存

- 数据库本身通常具有内置的缓存机制，如MySQL的查询缓存或Oracle的共享池。这些缓存机制可以在一定程度上提高数据库查询性能，减少对磁盘的访问。
- 使用Redis作为独立的缓存层仍然有以下一些优势
  - 更高的性能：Redis是基于内存的键值存储系统，相对于传统磁盘数据库，它具有更快的读写速度和更低的延迟。特别适用于缓存热门数据和频繁查询的数据。
  - 解耦数据库压力：将一部分读请求从数据库转移到Redis中处理



5. 微服务和单体服务有什么区别为什么要把服务拆开如果是为了承载更大的访问量 为什么不考虑做成集群

- 区别
  - 两种不同的架构风格，它们在设计原则和实现方式上存在一些区别。
- 为什么要将服务拆分为微服务呢？
  - 独立开发和部署
  - 可扩展：将扩展的粒度缩小到每个服务
  - 高可用和容错性：实现部分故障隔离和容错。如果一个服务发生故障，其他服务仍然可以正常工作，从而提高整体系统的可用性。
  - 避免JAR冲突
- 为什么不仅仅考虑将单体服务部署为集群，而选择微服务架构
  - 部署和扩展的灵活性：每个服务都可以独立进行部署和扩展。
  - 解耦和隔离
  - 技术栈和工具的选择：每个微服务可以选择适合自身的技术栈和工具。



6. 微服务下数据怎么共享 集群中修改数据怎么保证一致性

- 分布式数据库、一致性协议和分布式锁、各自维护私有数据



7. 用户在请求数据的时候 请求的是哪里的数据是服务器上的吗 怎么保证本地缓存数据和服务器上数据的一致性

- 用户请求数据时，请求的数据可以是存储在服务器上的数据。服务器通常负责处理用户请求，并从存储层（如数据库、文件系统等）获取数据，然后将响应返还给用户。
- 保证本地缓存数据和服务器上数据一致性
  - 失效策略和过期时间。为每个缓存项设置一个合理的过期时间。当缓存项的过期时间到达后，缓存将会自动失效，并通过发送请求到服务器来获取最新数据。
  - 异步更新和延时双写：在进行数据更新时，可以采用异步的方式进行更新。即使服务器上的数据和缓存数据在一段时间内不一致，也可以通过其他的机制（如定期或实时的刷新）来保证数据最终一致性。



9. 代理和反向代理有什么区别代理和适配器模式有什么区别

- 代理模式是为了控制和增强对实际对象的访问，并提供额外的功能。它通过代理对象与客户端进行交互，代表客户端操作真实对象。
- 反向代理是一种网络架构模式，隐藏了服务器并接受客户端的请求，将请求转发给后端的多个服务器。它提供负载均衡、缓存和安全性等功能。Nginx？
- 适配器模式是为了解决不兼容的接口或类之间的问题。它通过适配器将原本不兼容的类转换为目标接口，使其能够协同工作。

























































